"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var CSSOM=require("cssom"),SimpleSVG={render:function(e){return e("svg")},name:"simple-svg",props:{src:{type:String,required:!0},fillClassName:{type:String,default:""},fill:{type:String,default:""},strokeClassName:{type:String,default:""},stroke:{type:String,default:""},width:{type:String,default:"auto"},height:{type:String,default:"auto"},customId:{type:String,default:""},customClassName:{type:String,default:""}},mounted:function(){this.generateInlineSVG()},watch:{src:function(e){this.generateInlineSVG()},fill:function(e){this.updateFillColor(e)},stroke:function(e){this.updateStrokeColor(e)},width:function(e){this.$el.style.width=e},height:function(e){this.$el.style.width=e}},methods:{generateInlineSVG:function(){var e=this;this.resetInlineSVG();var t=new XMLHttpRequest;t.open("GET",this.src,!0),t.onload=function(){if(t.status>=200&&t.status<400){var r=(new DOMParser).parseFromString(t.responseText,"text/xml").getElementsByTagName("svg")[0];if(!r)return void console.error("No SVG element found in the given file: "+e.filepath);var i=r.getAttributeNames(),l=!0,s=!1,n=void 0;try{for(var o,a=i[Symbol.iterator]();!(l=(o=a.next()).done);l=!0){var u=o.value,f=r.getAttribute(u);e.$el.setAttribute(u,f)}}catch(e){s=!0,n=e}finally{try{!l&&a.return&&a.return()}finally{if(s)throw n}}e.customId&&(e.$el.id=e.customId),e.customClassName&&e.$el.setAttribute("class",e.customClassName),e.$el.style.width=e.width,e.$el.style.height=e.height;for(var h=r.children.length-1;h>=0;h--){var d=r.children.item(h);e.$el.appendChild(d)}e.updateFillColor(e.fill),e.updateStrokeColor(e.stroke),e.$emit("load")}else console.error("There was an error retrieving the source of the SVG.")},t.onerror=function(){console.error("There was on XML Http Request")},t.send()},resetInlineSVG:function(){for(;this.$el.firstChild;)this.$el.removeChild(this.$el.firstChild);var e=this.$el.getAttributeNames(),t=!0,r=!1,i=void 0;try{for(var l,s=e[Symbol.iterator]();!(t=(l=s.next()).done);t=!0){var n=l.value;this.$el.removeAttribute(n)}}catch(e){r=!0,i=e}finally{try{!t&&s.return&&s.return()}finally{if(r)throw i}}},updateFillColor:function(e){if(this.fillClassName){var t=this.$el.getElementsByClassName(this.fillClassName),r=!0,i=!1,l=void 0;try{for(var s,n=t[Symbol.iterator]();!(r=(s=n.next()).done);r=!0){s.value.style.fill=e}}catch(e){i=!0,l=e}finally{try{!r&&n.return&&n.return()}finally{if(i)throw l}}}},updateStrokeColor:function(e){if(this.strokeClassName){var t=this.$el.getElementsByClassName(this.strokeClassName),r=!0,i=!1,l=void 0;try{for(var s,n=t[Symbol.iterator]();!(r=(s=n.next()).done);r=!0){s.value.style.stroke=e}}catch(e){i=!0,l=e}finally{try{!r&&n.return&&n.return()}finally{if(i)throw l}}}}}},plugin={install:function(e,t){e.component("simple-svg",SimpleSVG)}};exports.default=plugin,exports.SimpleSVG=SimpleSVG;
